<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iPod Classic MP3 Player</title>
    <script>
      // GitHub Pages SPA redirect
      // Converts path to hash for HashRouter compatibility
      (function() {
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect !== location.href) {
          history.replaceState(null, null, redirect);
        }
      })();
      
      // Store the attempted URL and redirect to root
      var loc = window.location;
      if (loc.pathname !== '/' && !loc.pathname.endsWith('/')) {
        // For GitHub project pages, keep the repo name in path
        var pathParts = loc.pathname.split('/').filter(Boolean);
        var basePath = pathParts.length > 0 ? '/' + pathParts[0] + '/' : '/';
        sessionStorage.redirect = loc.href;
        loc.replace(basePath + '#' + loc.pathname.slice(basePath.length) + loc.search + loc.hash);
      }
    </script>
  </head>
  <body>
    <noscript>
      <meta http-equiv="refresh" content="0; url=./" />
    </noscript>
    <p>Redirecting...</p>
  </body>
</html>
